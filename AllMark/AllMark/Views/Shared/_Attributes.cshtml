@using Utils.NationalCatalog.Models
@using AllMark.HtmlHelpers
@addTagHelper *, AllMark.HtmlHelpers
@model IEnumerable<CatalogAttribute>

    <div>
        @(Html.Kendo()
                .TabStrip()
                .Name("tabStrip")
                .Scrollable(false)
                .Items(items =>
                {
                var groups = Model.GroupBy(i => i.GroupName).ToList();
                var first = true;
                foreach (var group in groups)
                {
                    items.Add()
                        .Selected(first)
                        .Text(group.Key)
                        .Content(@<text>
                            @foreach (var attribute in group)
                                        {
                                <div class="row" style="margin:5px;">
                                    <div class="col-sm-3 allmark-div">
                                        @(attribute.Name)
                                    </div>
                                    <div class="col-sm-9 allmark-div">
                                        @Html.CreateAttributeControls(attribute)
                                    </div>

                                </div>
                                        }
                            <script>
                                @Html.Kendo().DeferredScripts(false)
                            </script>
                        </text>);
first = false;
}
})
        )
    </div>
<div>
    @(Html.Kendo()
    .Button()
    .Name("wndAttributes_btSave")
    .Content("Сохранить")
    .Events(e => e.Click("wndAttributes_btSave_onClick"))
    )
</div>

<script>
    $(document).ready(() => {
        setControlsSettings();
    })
</script>